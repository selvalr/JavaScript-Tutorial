<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Local storage</h1>
    <script>
      //The localStorage data stored key/value pairs in the browser.

      //Note:

      //local storage API provided by browser create,read,update,delete

      //The localStorage object stores data with no expiration date.

      //The data is not deleted when the browser is closed, and are available for future sessions.

      //local storage only store string,object,list,array you must convert,into sting using JSON.stringify()

      //key=it is the name of the data to store
      //value=data of the key

      //1.SetItem(key,value):=>save data to local storage

      localStorage.setItem("name", "kelvin"); //store in string in local storage

      const user = {
        firstName: "selva",
        secondName: "manan",
      };
      localStorage.setItem("user", JSON.stringify(user)); //store objet in local storage

      //2.getItem(key);=>read data from local storage

      //to retrieves the data stored in the browser use the get method

      localStorage.getItem("user"); //{firstName: "selva", secondName: "manan"}

      console.log(JSON.parse(localStorage.getItem("user")));

      //3.removeItem(key);=>remove data from local storage

      //localStorage.removeItem('user');

      //4.clear();=>Remove all(clear local storage)

      //localStorage.clear();

      //5.key(index):=>passed a number to retrieve key of a localStorage

      console.log(localStorage.key(user)); //name

      //length key
      for (let i = 0; i < localStorage.length; i++) {
        console.log(localStorage.getItem(localStorage.key(i)));
      }

      //1.setting item to the localstorage

      //i.storing string in a locastorage
      localStorage.setItem("firstName", "Asabeneh"); // since the value is string we do not stringify it
      console.log(localStorage);

      //ii.storing number in a local storage
      localStorage.setItem("age", 200);
      console.log(localStorage);

      //iii.Storing an array in a localStorage. If we are storing an array, an object or object array, we should stringify the object first. See the example below.

      //.
      const skills = ["HTML", "CSS", "JS", "React"];
      //Skills array has to be stringified first to keep the format.
      const skillsJSON = JSON.stringify(skills, undefined, 4);
      localStorage.setItem("skills", skillsJSON);
      console.log(localStorage);

      //.
      let skills1 = [
        { tech: "HTML", level: 10 },
        { tech: "CSS", level: 9 },
        { tech: "JS", level: 8 },
        { tech: "React", level: 9 },
        { tech: "Redux", level: 10 },
        { tech: "Node", level: 8 },
        { tech: "MongoDB", level: 8 },
      ];
      let skillJSON = JSON.stringify(skills1);
      localStorage.setItem("skills", skillJSON);

      //iv.Storing an object in a localStorage. Before we storage objects to a localStorage, the object has to be stringified.
      const user1 = {
        firstName: "Asabeneh",
        age: 250,
        skills: ["HTML", "CSS", "JS", "React"],
      };
      const userText = JSON.stringify(user1, undefined, 4);
      localStorage.setItem("user", userText);

      //2.Getting item from localStorage

      let firstName = localStorage.getItem("firstName");
      let age = localStorage.getItem("age");
      let skill = localStorage.getItem("skills");
      console.log(firstName, age, skill);

      //.As you can see the skill is in a string format. Let us use JSON.parse() to parse it to normal array.

      let skills2 = localStorage.getItem("skills");
      let skillsObj = JSON.parse(skills2, undefined, 4);
      console.log(skillsObj);

      //3.Clearing the localStorage
      localStorage.clear();
    </script>
  </body>
</html>
