<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //1.Closure
      function OuterFunction() {
        var outerVariable = 100;

        function InnerFunction() {
          alert(outerVariable);
        }

        return InnerFunction;
      }
      var innerFunc = OuterFunction();

      innerFunc(); // 100





      //2. Closure
      function Counter() {
        var counter = 0;

        function IncreaseCounter() {
          return (counter += 1);
        }

        return IncreaseCounter;
      }

      var counter = Counter();
      alert(counter()); // 1
      alert(counter()); // 2
      alert(counter()); // 3
      alert(counter()); // 4



      //3.Closure
function Counter() {
    
    var counter = 0;

    setTimeout( function () {
        var innerCounter = 0;
        counter += 1;
        alert("counter = " + counter);

        setTimeout( function () {
            counter += 1;
            innerCounter += 1;
            alert("counter = " + counter + ", innerCounter = " + innerCounter)
        }, 500);

    }, 1000);
};

Counter();

//4.When to use Closure?
//: Closure
var counter = (function() {
  var privateCounter = 0;
  function changeBy(val) {
    privateCounter += val;
  }
  return {
    increment: function() {
      changeBy(1);
    },
    decrement: function() {
      changeBy(-1);
    },
    value: function() {
      return privateCounter;
    }
  };   
})();

alert(counter.value()); // 0
counter.increment();
counter.increment();
alert(counter.value()); // 2
counter.decrement();
alert(counter.value()); // 1


    </script>
  </body>
</html>
